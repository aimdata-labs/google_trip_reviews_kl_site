"0",""
"0","reviews_cuisine_cleaning <- function(tbl) {"
"0","  "
"0","  tbl |> "
"0","    # Not a specific restaurant"
"0","    filter(restaurant %out% c(""Jalan Alor"", ""Sham's Cooked With Love"", ""Hawker Stalls in Chinatown"","
"0","                              ""Feast Village Starhill Gallery"", ""ICC Pudu"", ""Imbi Market"", "
"0","                              ""Taste of Asia"", ""Thirty8 Fashion"", ""Happy Mansion"")) |> "
"0","    # Location cleaning"
"0","    mutate(location = ifelse(restaurant %in% "
"0","                               c(""Nizza Restaurant @ Sofitel Kuala Lumpur Damansara"","
"0","                                 ""Sri Nirwana Maju Restaurant - Bangsar"","
"0","                                 ""Hornbill Restaurant & Cafe"", "
"0","                                 ""Malai Thai Cuisine @ Cormar Suites"","
"0","                                 ""Qureshi"","
"0","                                 ""Aliyaa Island Restaurant & Bar"","
"0","                                 ""Skillet KL"","
"0","                                 ""Geographer cafe Kuala Lumpur"","
"0","                                 ""Gastro Sentral, Le Méridien Kuala Lumpur"","
"0","                                 ""Horizon Grill @ Banyan Tree Kuala Lumpur"","
"0","                                 ""Chamber’s Grill"","
"0","                                 ""Mercat Barcelona Gastrobar (1MontKiara)"","
"0","                                 ""Chynna"", "
"0","                                 ""The Grand Getaway"","
"0","                                 ""Dining in the Dark KL"","
"0","                                 ""Sausage KL Cafe & Deli""), "
"0","                             ""KL"", "
"0","                             location)) |> "
"0","    # Some cleaning "
"0","    mutate(restaurant = str_replace(restaurant, ""Birch"", ""Huckleberry"")) |> "
"0","    mutate(restaurant = str_replace_all(restaurant, ""Passage thru'"", ""Passage Thru""),"
"0","           restaurant = str_replace_all(restaurant, "
"0","                                        ""Little Penang Cafe|Little Penang Kafe"","
"0","                                        ""Little Penang Kafé - KLCC""),"
"0","           restaurant = str_replace_all(restaurant, ""The Grand Getaway by Grand Hyatt Kuala Lumpur"", "
"0","                                        ""The Grand Getaway""), "
"0","           restaurant = str_replace_all(restaurant, ""Gravybaby"", ""GravyBaby""), "
"0","           restaurant = str_replace_all(restaurant, ""Ploy"", ""PLOY""), "
"0","           restaurant = ifelse(restaurant == ""What Tasty Food"", ""WTF - What Tasty Food"", restaurant),"
"0","           restaurant = ifelse(restaurant == ""ATAS"", ""ATAS at The RuMa Hotel & Residences"", restaurant), "
"0","           restaurant = ifelse(restaurant == ""Al Rawsha Restaurant Kuala Lumpur"", ""Al Rawsha Restaurant"", restaurant), "
"0","           restaurant = ifelse(restaurant == ""Aliyaa"", ""Aliyaa Island Restaurant & Bar"", restaurant), "
"0","           restaurant = ifelse(restaurant == ""Arthur's Bar & Grill, Shangri-La Hotel, Kuala Lumpur"", "
"0","                               ""Arthur's Bar & Grill"", restaurant), "
"0","           restaurant = ifelse(str_detect(restaurant, ""Lemon Garden""), "
"0","                               ""Lemon Garden"", "
"0","                               restaurant), "
"0","           restaurant = ifelse(str_detect(restaurant, ""Din Tai Fung at The Gardens Mall""),"
"0","                               ""Din Tai Fung at The Gardens Mall"", "
"0","                               restaurant), "
"0","           restaurant = ifelse(restaurant == ""Monnalisa Italian Restaurant"", "
"0","                               ""Monnalisa Ristorante Italiano"", "
"0","                               restaurant), "
"0","           restaurant = ifelse(str_detect(restaurant, ""Fatty Mee Hoon Kuih""), "
"0","                               ""Fatty Mee Hoon Kuih"", "
"0","                               restaurant), "
"0","           restaurant = ifelse(str_detect(restaurant, ""Whisky Bar KL""), "
"0","                               ""The Whisky Bar"", "
"0","                               restaurant), "
"0","           restaurant = str_replace_all(restaurant, ""W XYZ"", ""WXYZ""), "
"0","           restaurant = ifelse(restaurant == ""The Daily Grind Bangsar"", "
"0","                               ""The Daily Grind"", "
"0","                               restaurant), "
"0","           restaurant = ifelse(restaurant == ""Chili's 1 Utama"", ""Chili's"", restaurant), "
"0","           restaurant = str_replace_all(restaurant, ""Merini"", ""Marini""))  |>"
"0","    mutate("
"0","      cuisine = case_when("
"0","        "
"0","        # The order of the case_when statements is important. Particularly, it should go"
"0","        # South Asian -> Buffet -> Fusion,"
"0","        # This is because I would consider South Asian buffet restaurants as South Asian."
"0","        # And I would not consider hotel buffets to be a type of fusion restaurant, "
"0","        # despite all the types of food they might serve."
"0","        # Also, Grill before Bar."
"0","        "
"0","          str_detect("
"0","          restaurant,"
"0","          ""Grill|Steakhouse|Grub|Steak|Brasserie|steakhouse|BBQ|Rock Salt Restaurant|BBP|Churrascaria|Marble 8|Beast|Nando's|Nandos|Bar B Q|Down to Bones|Barbecue|Vantador|Bbq|Butcher Carey|PRIME|Brasserie|Karnivormalaya|Chamber's"""
"0","        ) ~ ""Grill"","
"0","          str_detect(restaurant,"
"0","          ""Bistro|Deli|Secret Recipe|Tujo|Wild Sheep|Antipodean|Coffee|One Half|Blue Room|Awesome Canteen|Botanica|Chili's|Don's Diner|GravyBaby|Hornbill|Huck's|myBurgerLab|Naj & Belle|Tony Roma's|Louisiana|Cor Blimey|4Fingers|Bacon And Balls|POP PIZZA|After Black|Ashley's by Living Food|March Azalea Kitchen|Mighty Monster IPC|Sköhns Canteen|Table9|Rabbit Hole|Williams Corner|Tiki Taka|4 Fingers|Ben's|Souled Out|Suzi's Corner|Fuel Shack Signature|SOULed OUT|TGI Friday|Chilli's|Pigs & Wolf|Ship|Breakfast Thieves|Ante|Morganfield's|Subway|Meat The Porkers|Pan & Tamper|Hubba Mont Kiara|Bacon & Balls|Tate|Gin Ger|Fuel Shack|Jarrod & Rawlins|BreadFruits|Glass Tartines and Tipples|B-Lab|Mighty Monster|Ticklish Ribs|Cozy Corner|Duddha|Fat Brother|Define:food|Tangerine|Sausage & Ribs Shack|Texas Chicken|Coco Fika|Andra By Gula Cakery|D Place|Chef Zubir|Hubz|Maipi Corner|Marrybrown|Meet and Meat|Jibby & Co|Midwest|WhupWhup|Foodilicious Kitchen Shah Alam|Craveat"""
"0","        ) ~ ""Casual Western"","
"0","        str_detect("
"0","          restaurant,"
"0","          ""Chinese|Taiwan|[\\p{Han}]|Nam Heong|Dynasty|Putien|Hoi|Gold Dragon|Han Room|Village Duck|Village Roast Duck|Unique|Steamboat|Ah |Roast Pork|Hokkien Mee|Dim Sum|Lai Po Heen|Yun House|Chynna|Li Yen|Shanghai|Lai Foong|Little Penang Kafé|Goon Wah|Shang Palace|YEN|Yut Kee|Din Tai Fung|Dragon-i|Celestial Court|The Ming Room|Sai Woo|Luk Yu|Yue|Way Modern Chinois|Hong Kong|Blue Boy Vegetarian Food Centre|Xin|Lai Ching Yuen|Noble House|Noodle House|Bak Kut|Fong Lye|Wan Tan Mee|Sarawak Laksa|Hakka|Ruyi & Lyn|Chicken rice|Chicken Rice|Char Siew|Siew Yoke|Dim Sum|Chiu Chow|Hainan|Hailam|Pork Noodles|Koong Woh Tong|Yong Tow Foo|Madam Tang| Kee|The Pot KL|Yu Noodle Cuisine|Wan Chun Ting|Muk Koot|Oversea|Marco Polo|Cu Cha Restaurant|Imperial|Grand Harbour|In Colonial Restaurant|Museum Restaurant|Heng|Hiong Kong|Ban Lee Restaurant|Heong|Restaurant Mama Love|Hee Lai Ton|New Paris|Kingdom Palace|Siu Siu|Sam You|Ti Chen|Mee Hoon|Fishball|Peoh|Esquire|Restourant Boston|7th Mile Kitchen"""
"0","        ) ~ ""Chinese"","
"0","        str_detect("
"0","          restaurant,"
"0","          ""Italia|Olive|Ristorante|Osteria|Prego|Pizza|Trattoria|Nero Nero|Positano|a'Roma|Vin's Restaurant|Michelangelo|Marini's|Nizza|Porto Romano|Tatto|Neroteca|La Risata|Portofino|Ciao|Enoteca|Mangiare|Sassolino|Pizzeria|La Casa Restaurant & Patisserie|Favola|Senja Restaurant|Graze"""
"0","        ) ~ ""Italian"","
"0","        str_detect("
"0","          restaurant,"
"0","          ""German|French|Chez|Marta's|Tapas|Bistro à Table|Iberico|El Toro Loco|Petit|Mercat|Dominic|El Cerdo|Quivo|Skillet KL|iberico|Yeast|Maison Francaise|El Mesón|Lafite|Topshelf|Wurst|Sabayon|Chateau|Naughty Babe Dirty Duck|Hit & Mrs|Le Gourmandin|Soleil|Suisse|IKEA|Leonardo|MARCO Creative Cuisine|Abanico|La Belle Saison"""
"0","        ) ~ ""European"","
"0","        str_detect(restaurant, ""Thai|Bangkok|BKK|Baan|Tamarind Springs|Chakri|BAAN|Samira by Asian Terrace|Ekkamai|Busaba|Mamasan|Krung Thep|Tomyam|Aroma Restaurant|Chef Korn|Tuk Tuk"""
"0","                   ) ~ ""Thai"","
"0","        str_detect(restaurant, ""Arab|Turkish|Al-|Halab|Egyptian|Tarbush|Wadi|Sahara Tent|Shawarma|Damascus|Syria|Hadramawt|diafah|Iraq|Sarifa|Al Rawsha|The Castle Restaurant|Saba Restaurant|Marhaba|ALRAWSHA Restaurant|Antara|Andalus|El Sham|Oregi Restaurant"""
"0","                   ) ~ ""Levantine"","
"0","        # Malay (Chef Wan) and Malaysian (Madan Kwan's)"
"0","        str_detect("
"0","          restaurant,"
"0","          ""Malay|Rasa|Cik|Dapur|Rebung|Zakhir|Village Park|ADU|Warisan|Nasi|Dancing Fish|Sarang|Bijan|Serai|Sambal|ATAS|Grandmama's|Onde Onde|JP teres|Satay Station|Chef Wan|De.Wan|Siti Li Dining|Pintu|Ramly|Penyet|Sepiring|Satay|Restoran Ali Food Corner|Open House|Sup Utara|Bawal Power|Ikan|Gulai|Kampung Mu|Marlina Station|Wong Solo|Bawang|Goreng"""
"0","        ) ~ ""Malay"","
"0","        str_detect("
"0","          restaurant,"
"0","          ""Nonya|Baba|Mum's Place|Madam Kwan|Chuup|Old China Cafe|Nyonya|Little Penang|Oriental Cravings|Papparich|Uncle Don|Muar Restaurant|Kumi|Peranakan|1919 Restaurant|Penang"""
"0","        ) ~ ""Malaysian"","
"0","        str_detect("
"0","          restaurant,"
"0","          ""Japan|Edo|Sushi|Kampachi|Iketeru|Menya|Nobu|Omakase|TOKYO|Tokyo|Tonkatsu|Udon|Soba|Ichibanya|Maruhi|Omulab|Zipangu|Miyabi|Izakaya Hanazen|hokkaido|Senya|IPPUDO|Umai-Ya|Ichiban|Yakiniku|Nihon|Lucky Tora|Hokkaido|Mo-Mo Paradise|Sushi|sushi|Uokatsu|Ramen|Tempura|Izakaya|Tokyo|Kyoto|Oishii|Gyoza|Ichiban|Tonkotsu|Tonkatsu|Sakura|Yakitori|Kyush|Teppanyaki|Taka|Kikubari|Ichiyutei|Enju|Okonomi|Toridoki|Syokudo|Tsukiji|Yuzu|Madam Salma|Fu-Rin"""
"0","        ) ~ ""Japanese"","
"0","        # Why not merge all Korean BBQ into grill?"
"0","        str_detect("
"0","          restaurant,"
"0","          ""Filipino|Bali|Vietnam|GOODDAM|Korea|Sao Nam|Naughty Nuri's|KyoChon|Viet|Dakgalbi|Sopoong|Kung Jung|Saigon|Sae Ma Eul|KoRyo-Won|Koryowon|Persia|Astana|Buns & Noodles|Kyochon|Topokki"""
"0","        ) ~ ""Other Asian"","
"0","        "
"0","        # Do not str_detect(.x, ""bar"")"
"0","        str_detect(restaurant, ""Whisky|Lounge|Bar|Decanter|Knowhere Bangsar|The Locker & Loft|Tom, Dick & Harry's|WET|The Enclave|Out of Africa|Opium|THIRTY8|Healy Mac's|TEMPTationS|Loco bar|La Bodega|Vertigo|The Social|No Black Tie|The BAR|O'Galito|Table 23|D Legends bar|Bobo KL|Rock Bottom|twenty-one kitchen+bar|Bentley's Pub|Vinh City Entertainment|twenty-one|Malones|White Horse Tavern|Supperclub KL|Backyard|The Ceylon bar|W1 Dining & Cocktails|Splash|Drop Exchange|Boardwalk|Deep Blue|The Sticky Wicket|OneSixFive|The Attic|Concubine KL|The Green Man|THE BAR|Marini’s on 57|Rooftop 25"""
"0","        ) ~ ""Bar"","
"0","        str_detect(restaurant, ""Cafe|Grind|Café|Tujo|cafe|Alexis|The Loaf|Yellow Brick Road|Huckleberry|TWG|Newens Tea House|Miss Ellie Tea House|Frisky Goat|Urbean|Ra-Ft|Backofen|STG Bukit Ceylon|VCR|Rise & Shine by Tapestry|Kafe|Kaffe|Kopi|Latte|Kopitiam"""
"0","        ) ~ ""Cafe"","
"0","        str_detect("
"0","          restaurant,"
"0","          ""Kerala|India|Lanka|Malabar|Curry|Raju|Bhavan|Thosai|Tandoor|Bombay|Gem Restaurant|Nasi Kandar|NADODI|Qureshi|RSMY|Sangeetha|Nirwana|Asian Rice Pot|Masala|Annalakshmi|Aliyaa|MTR|Devi's Corner|WTF - What Tasty Food|Nadodi|Delhi Royale|FLOUR|Bakti Woodlands|Vishal Food|Banana Leaf|Hyderabad|sarvana bhavan|Spice Garden|Roti|TasteBud|Chapati|Pakistani|Jai Hind|BananaBro|Naan|SK Corner|Sri Paandi|Majapahit|Nan |GinRikSha|Briyani|Biryani|Maju Palace|Seetharam|Havelly|Punjab|Goa By Sapna Anand|Swaadisht|Mamak|Sri|Chapathi|Moghul|Rani|Aryan|Yarl|Sagar|ABC Foods Corner|Sheesh Mahal|Mallikas"""
"0","        ) ~ ""South Asian"","
"0","        "
"0","        # Buffet list"
"0","        restaurant %in% trip_buffet_list ~ ""Buffet"","
"0","        restaurant %in% google_buffet_list ~ ""Buffet"", "
"0","        str_detect(restaurant, ""Flock, W Kuala Lumpur|HYdeout By Grand Hyatt Kuala Lumpur|Curate"""
"0","                   ) ~ ""Buffet"", "
"0","        # List of fusion restaurants"
"0","        restaurant %in% trip_fusion_list ~ ""Fusion"","
"0","        restaurant %in% google_fusion_list ~ ""Fusion"", "
"0","        str_detect(restaurant, ""Symphony by Chef Jo|Darren Chin|Dewakan|DC Restaurant|Sitka|Ginger Restaurant|Table & Apron|Foodsbury"""
"0","                   ) ~ ""Fusion"", "
"0","        "
"0","        # Unfortunate, there aren't enough Latino restaurants for their own category"
"0","        str_detect(restaurant, ""Latino|Mexican|Carretas|Mexico|Frontera|Mexicana|Cocina"""
"0","        ) ~ ""Other"","
"0","        str_detect(restaurant, ""Oliver Gourmet|Seafood|Shell Out|BAIT|Fisherman|Fish & Co|Shucked|Delay No More Crab Restaurant|Ombak"""
"0","        ) ~ ""Seafood"","
"0","        str_detect(restaurant, ""Vasco's|Latest Recipe|Lemon Garden|Prime|Gastro Sentral|Chinoz On The Park|Shook|Plane In The City|Contango|The Living Room|Curate At Four Seasons|Beta KL|CEDAR on 15|The Apartment|The Grand Getaway|Strato|Ril's|Chocha|Wizards at Tribeca|Nipah|Joloko|Leonardo's Dining Room & Wine Loft|Roofino Skydining|Troika|Dining In The Dark KL|PLOY|Atlas Gourmet Market|WIP|Nathalie Gourmet Studio|Altitude|The Canteen by Chef Adu|Latitude 03|The Orchid Conservatory|Graze Restaurant|Zende Restaurant|Crystal|Cielo KL|Cedar On 15"""
"0","        ) ~ ""Other Upmarket"","
"0","        # Just mopping up all the Dai Chow"
"0","        # I feel this is going to create problems down the line"
"0","        str_detect(restaurant, ""Restoran"""
"0","        ) ~ ""Chinese"","
"0","        TRUE ~ ""Other"""
"0","  )) |> "
"0","    mutate(rowid = row_number())"
"0","}"
"0",""
"0",""
